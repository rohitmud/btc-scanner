<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BTC Futures Scanner - Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
  :root {
    --bg: #0d1117; --card: #161b22; --border: #30363d; --text: #e6edf3;
    --muted: #8b949e; --green: #3fb950; --red: #f85149;
    --yellow: #d29922; --blue: #58a6ff; --purple: #bc8cff;
  }
  * { box-sizing: border-box; }
  body { background: var(--bg); color: var(--text); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; min-height: 100vh; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; }
  .stat-card { text-align: center; padding: 1.1rem 0.75rem; }
  .stat-value { font-size: 1.75rem; font-weight: 700; line-height: 1.1; }
  .stat-label { font-size: 0.72rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.06em; margin-top: 5px; }
  .stat-sub { font-size: 0.7rem; color: var(--muted); margin-top: 3px; }
  .section-title { font-size: 0.78rem; font-weight: 600; color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.9rem; }
  .win { color: var(--green); }
  .loss { color: var(--red); }
  .badge-pill { display: inline-block; padding: 2px 9px; border-radius: 10px; font-size: 0.72rem; font-weight: 600; }
  .bp-win    { background: rgba(63,185,80,0.15);  color: var(--green);  border: 1px solid rgba(63,185,80,0.35); }
  .bp-loss   { background: rgba(248,81,73,0.15);  color: var(--red);    border: 1px solid rgba(248,81,73,0.35); }
  .bp-open   { background: rgba(210,153,34,0.15); color: var(--yellow); border: 1px solid rgba(210,153,34,0.35); }
  .bp-long   { background: rgba(88,166,255,0.15); color: var(--blue);   border: 1px solid rgba(88,166,255,0.35); }
  .bp-short  { background: rgba(188,140,255,0.15);color: var(--purple); border: 1px solid rgba(188,140,255,0.35); }
  table { color: var(--text); }
  thead th { background: var(--card); border-color: var(--border) !important; color: var(--muted); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 500; position: sticky; top: 0; z-index: 2; }
  tbody tr { border-color: var(--border) !important; transition: background 0.1s; }
  tbody tr:hover { background: rgba(255,255,255,0.03); }
  td, th { border-color: var(--border) !important; font-size: 0.85rem; vertical-align: middle; padding: 0.45rem 0.65rem !important; }
  .header-bar { background: var(--card); border-bottom: 1px solid var(--border); padding: 0.9rem 1.5rem; }
  .alert-card { background: var(--card); border: 1px solid var(--border); border-radius: 6px; padding: 0.9rem 1rem; margin-bottom: 0.65rem; }
  .alert-long  { border-left: 3px solid var(--blue); }
  .alert-short { border-left: 3px solid var(--purple); }
  .chip { display: inline-block; font-size: 0.68rem; padding: 2px 7px; border-radius: 3px; margin: 2px; }
  .chip-ok  { background: rgba(63,185,80,0.15);  color: var(--green); }
  .chip-no  { background: rgba(255,255,255,0.05); color: var(--muted); text-decoration: line-through; }
  select.form-select { background-color: var(--card) !important; color: var(--text) !important; border-color: var(--border) !important; font-size: 0.82rem; }
  ::-webkit-scrollbar { width: 5px; height: 5px; }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
</style>
</head>
<body>

<!-- Header -->
<div class="header-bar d-flex align-items-center justify-content-between mb-3">
  <div>
    <span style="font-weight:700;font-size:1.05rem;">BTC Futures Scanner</span>
    <span style="color:var(--muted);margin-left:0.75rem;font-size:0.85rem;">Backtest Dashboard</span>
  </div>
  <span style="color:var(--muted);font-size:0.78rem;" id="gen-ts"></span>
</div>

<div class="container-fluid px-3 pb-4">

  <!-- Live Alerts (top) -->
  <div class="row g-3 mb-3" id="alertsSection" style="display:none">
    <div class="col-12">
      <div class="card p-3" style="border-color:rgba(88,166,255,0.35)">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <div class="d-flex align-items-center gap-2">
            <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 6px var(--green)" id="live-dot"></span>
            <span class="section-title mb-0">Live Scanner Alerts</span>
          </div>
          <span style="color:var(--muted);font-size:0.75rem" id="alert-count"></span>
        </div>
        <div id="alertsList" style="max-height:340px;overflow-y:auto"></div>
      </div>
    </div>
  </div>

  <!-- Summary Cards -->
  <div class="row g-2 mb-3" id="summary-cards"></div>

  <!-- Charts Row 1 -->
  <div class="row g-3 mb-3">
    <div class="col-lg-5">
      <div class="card p-3 h-100">
        <div class="section-title">Win Rate by Confidence Band</div>
        <div style="position:relative;height:210px"><canvas id="confChart"></canvas></div>
      </div>
    </div>
    <div class="col-lg-3">
      <div class="card p-3 h-100">
        <div class="section-title">Outcome Split</div>
        <div style="position:relative;height:210px"><canvas id="outcomeChart"></canvas></div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card p-3 h-100">
        <div class="section-title">Win Rate by Direction</div>
        <div style="position:relative;height:210px"><canvas id="dirChart"></canvas></div>
      </div>
    </div>
  </div>

  <!-- Cumulative P&L -->
  <div class="row g-3 mb-3">
    <div class="col-12">
      <div class="card p-3">
        <div class="section-title">Cumulative P&L  (R Multiples)</div>
        <div style="position:relative;height:190px"><canvas id="pnlChart"></canvas></div>
      </div>
    </div>
  </div>

  <!-- Trades Table -->
  <div class="row g-3 mb-3">
    <div class="col-12">
      <div class="card p-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <div class="section-title mb-0">All Trades</div>
          <div class="d-flex gap-2">
            <select id="fTf"  class="form-select form-select-sm" style="width:auto"><option value="">All TFs</option></select>
            <select id="fOut" class="form-select form-select-sm" style="width:auto">
              <option value="">All Outcomes</option>
              <option>WIN</option><option>LOSS</option><option>OPEN</option>
            </select>
            <select id="fDir" class="form-select form-select-sm" style="width:auto">
              <option value="">All Directions</option>
              <option>LONG</option><option>SHORT</option>
            </select>
          </div>
        </div>
        <div style="overflow:auto;max-height:360px">
          <table class="table table-sm table-hover mb-0">
            <thead>
              <tr>
                <th>TF</th><th>Timestamp</th><th>Dir</th>
                <th class="text-end">Entry</th><th class="text-end">Target 1</th>
                <th class="text-end">Stop Loss</th><th class="text-end">R:R</th>
                <th class="text-end">Conf</th><th>Outcome</th>
              </tr>
            </thead>
            <tbody id="tradesBody"></tbody>
          </table>
        </div>
        <div id="tradeCount" style="color:var(--muted);font-size:0.75rem;margin-top:6px"></div>
      </div>
    </div>
  </div>


</div><!-- /container -->

<script>
const STATS  = {"total": 209, "resolved": 203, "wins": 110, "losses": 93, "opens": 6, "win_rate": 54.2, "avg_rr": 1.48, "ev": 0.346, "by_tf": {"1h": {"total": 165, "wins": 92, "losses": 70, "opens": 3, "win_rate": 56.8, "avg_rr": 1.49}, "5m": {"total": 44, "wins": 18, "losses": 23, "opens": 3, "win_rate": 43.9, "avg_rr": 1.46}}, "by_conf": {"75-79": {"total": 0, "wins": 0, "win_rate": 0.0}, "80-84": {"total": 70, "wins": 30, "win_rate": 42.9}, "85-89": {"total": 0, "wins": 0, "win_rate": 0.0}, "90+": {"total": 133, "wins": 80, "win_rate": 60.2}}, "by_dir": {"LONG": {"total": 15, "resolved": 14, "wins": 2, "win_rate": 14.3}, "SHORT": {"total": 194, "resolved": 189, "wins": 108, "win_rate": 57.1}}, "cumulative_pnl": [{"ts": "2026-01-20 04:00", "val": 1.17, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 05:00", "val": 2.74, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 06:00", "val": 4.55, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 07:00", "val": 6.36, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 08:00", "val": 8.19, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 14:00", "val": 10.22, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 16:00", "val": 12.23, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 17:00", "val": 14.19, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 18:00", "val": 16.07, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-20 22:00", "val": 15.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-20 23:00", "val": 14.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-21 17:00", "val": 13.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-22 13:00", "val": 12.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-22 14:00", "val": 11.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-22 15:00", "val": 10.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-22 16:00", "val": 9.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-23 08:00", "val": 8.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-23 09:00", "val": 7.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-23 10:00", "val": 6.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-23 14:00", "val": 5.07, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-23 23:00", "val": 6.46, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 00:00", "val": 7.92, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 09:00", "val": 10.23, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 10:00", "val": 12.67, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 11:00", "val": 14.63, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 12:00", "val": 16.69, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 13:00", "val": 18.61, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 14:00", "val": 20.02, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 15:00", "val": 21.06, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 16:00", "val": 21.89, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-24 23:00", "val": 22.82, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 01:00", "val": 23.79, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 02:00", "val": 24.68, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 03:00", "val": 25.83, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 04:00", "val": 26.98, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 06:00", "val": 28.35, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 07:00", "val": 29.63, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 08:00", "val": 28.63, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-25 09:00", "val": 27.63, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-25 15:00", "val": 29.12, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 16:00", "val": 30.95, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 17:00", "val": 32.77, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-25 18:00", "val": 31.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-25 19:00", "val": 30.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-25 20:00", "val": 29.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-25 21:00", "val": 28.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 08:00", "val": 27.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 09:00", "val": 26.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 10:00", "val": 25.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 11:00", "val": 24.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 14:00", "val": 23.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-27 17:00", "val": 22.77, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-28 20:00", "val": 23.62, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-28 23:00", "val": 24.54, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 01:00", "val": 25.62, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 02:00", "val": 27.06, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 03:00", "val": 28.52, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 14:00", "val": 30.34, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 15:00", "val": 32.96, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 16:00", "val": 35.31, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 17:00", "val": 37.55, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-29 18:00", "val": 39.92, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-30 01:00", "val": 38.92, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-30 02:00", "val": 37.92, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-01-31 09:00", "val": 39.31, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 10:00", "val": 40.75, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 11:00", "val": 42.24, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 12:00", "val": 43.76, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 13:00", "val": 45.3, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 14:00", "val": 47.08, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 15:00", "val": 48.8, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 16:00", "val": 50.56, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 17:00", "val": 52.72, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-01-31 18:00", "val": 52.72, "tf": "1h", "outcome": "OPEN"}, {"ts": "2026-01-31 19:00", "val": 52.72, "tf": "1h", "outcome": "OPEN"}, {"ts": "2026-02-01 21:00", "val": 53.75, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-02 04:00", "val": 52.75, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-02 05:00", "val": 51.75, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-03 10:00", "val": 52.47, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-03 11:00", "val": 53.17, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-03 14:00", "val": 54.04, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-03 16:00", "val": 55.06, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-03 17:00", "val": 54.06, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-03 18:00", "val": 53.06, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-04 13:00", "val": 54.64, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 14:00", "val": 56.12, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 15:00", "val": 57.22, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 16:00", "val": 58.54, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 17:00", "val": 60.08, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 21:00", "val": 61.51, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-04 22:00", "val": 62.94, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 02:00", "val": 64.42, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 03:00", "val": 65.96, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 04:00", "val": 67.66, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 05:00", "val": 69.46, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 11:00", "val": 70.77, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 12:00", "val": 72.24, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 13:00", "val": 73.76, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 14:00", "val": 75.22, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 15:00", "val": 77.15, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 17:00", "val": 78.93, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 18:00", "val": 80.87, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 19:00", "val": 82.8, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-05 20:00", "val": 81.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-05 21:00", "val": 80.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 06:00", "val": 79.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 07:00", "val": 78.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 08:00", "val": 77.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 09:00", "val": 76.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 10:00", "val": 75.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-07 11:00", "val": 74.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-08 03:00", "val": 73.8, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-08 23:00", "val": 75.13, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-09 01:00", "val": 76.41, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-09 07:00", "val": 77.43, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-09 08:00", "val": 78.63, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-09 09:00", "val": 79.84, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-09 10:00", "val": 78.84, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-09 11:00", "val": 77.84, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-09 13:00", "val": 76.84, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-10 03:00", "val": 77.95, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-10 04:00", "val": 79.1, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-10 05:00", "val": 80.26, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-10 06:00", "val": 81.41, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-10 07:00", "val": 82.6, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-10 11:00", "val": 81.6, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-10 14:00", "val": 80.6, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-10 22:00", "val": 81.54, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-11 03:00", "val": 82.49, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-11 04:00", "val": 83.66, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-11 05:00", "val": 82.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 06:00", "val": 81.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 07:00", "val": 80.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 10:00", "val": 79.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 14:00", "val": 78.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 15:00", "val": 77.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-11 16:00", "val": 76.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-12 16:00", "val": 75.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-12 17:00", "val": 74.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-12 18:00", "val": 73.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-12 19:00", "val": 72.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-12 20:00", "val": 71.66, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 12:00", "val": 72.73, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-15 13:00", "val": 71.73, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 14:00", "val": 73.05, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-15 15:00", "val": 72.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 16:00", "val": 71.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 17:00", "val": 70.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 18:00", "val": 69.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-15 19:00", "val": 68.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 02:00", "val": 67.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 05:00", "val": 66.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 15:00", "val": 65.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 16:00", "val": 64.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 17:00", "val": 63.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-16 18:00", "val": 62.05, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-17 08:00", "val": 63.79, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-17 09:00", "val": 65.02, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-17 10:00", "val": 66.25, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-17 11:00", "val": 67.38, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-17 14:00", "val": 66.38, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-17 15:00", "val": 67.76, "tf": "1h", "outcome": "WIN"}, {"ts": "2026-02-17 17:00", "val": 67.76, "tf": "1h", "outcome": "OPEN"}, {"ts": "2026-02-17 23:00", "val": 68.78, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-17 23:25", "val": 69.93, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 00:00", "val": 68.93, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-18 00:45", "val": 69.95, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 01:00", "val": 68.95, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 01:00", "val": 67.95, "tf": "1h", "outcome": "LOSS"}, {"ts": "2026-02-18 01:25", "val": 66.95, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 06:40", "val": 65.95, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 07:40", "val": 67.49, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 08:10", "val": 66.49, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 13:40", "val": 67.73, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 14:15", "val": 69.05, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 14:30", "val": 70.28, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 14:45", "val": 69.28, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 16:05", "val": 71.19, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 16:20", "val": 73.16, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 17:40", "val": 74.05, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 18:15", "val": 75.23, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 18:30", "val": 76.72, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-18 18:45", "val": 76.72, "tf": "5m", "outcome": "OPEN"}, {"ts": "2026-02-18 19:20", "val": 76.72, "tf": "5m", "outcome": "OPEN"}, {"ts": "2026-02-18 19:35", "val": 75.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-18 23:20", "val": 74.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 02:40", "val": 73.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 05:05", "val": 72.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 05:20", "val": 71.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 07:15", "val": 70.72, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 11:40", "val": 71.91, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-19 11:55", "val": 73.6, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-19 13:00", "val": 75.4, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-19 13:15", "val": 76.91, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-19 13:35", "val": 78.33, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-19 16:05", "val": 77.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 17:45", "val": 76.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 18:00", "val": 75.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-19 20:55", "val": 74.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 00:10", "val": 74.33, "tf": "5m", "outcome": "OPEN"}, {"ts": "2026-02-20 00:25", "val": 73.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 01:10", "val": 72.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 03:20", "val": 71.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 03:35", "val": 70.33, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 05:25", "val": 71.71, "tf": "5m", "outcome": "WIN"}, {"ts": "2026-02-20 05:40", "val": 70.71, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 09:00", "val": 69.71, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 09:15", "val": 68.71, "tf": "5m", "outcome": "LOSS"}, {"ts": "2026-02-20 10:15", "val": 67.71, "tf": "5m", "outcome": "LOSS"}], "tfs": ["1h", "5m"]};
const TRADES = [{"tf": "5m", "bar_index": 220, "timestamp": "2026-02-17T23:00:00+00:00", "direction": "SHORT", "entry": 67469.2, "target_1": 67261.55, "stop_loss": 67672.03, "rr": 1.02, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 225, "timestamp": "2026-02-17T23:25:00+00:00", "direction": "SHORT", "entry": 67408.3, "target_1": 67161.53, "stop_loss": 67622.54, "rr": 1.15, "confidence": 80.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 241, "timestamp": "2026-02-18T00:45:00+00:00", "direction": "SHORT", "entry": 67333.0, "target_1": 67139.44, "stop_loss": 67523.18, "rr": 1.02, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 244, "timestamp": "2026-02-18T01:00:00+00:00", "direction": "SHORT", "entry": 67117.1, "target_1": 66780.72, "stop_loss": 67332.01, "rr": 1.57, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 249, "timestamp": "2026-02-18T01:25:00+00:00", "direction": "SHORT", "entry": 67020.8, "target_1": 66659.02, "stop_loss": 67240.59, "rr": 1.65, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 312, "timestamp": "2026-02-18T06:40:00+00:00", "direction": "LONG", "entry": 67877.9, "target_1": 68092.9, "stop_loss": 67701.7, "rr": 1.22, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 324, "timestamp": "2026-02-18T07:40:00+00:00", "direction": "LONG", "entry": 68034.9, "target_1": 68317.94, "stop_loss": 67851.55, "rr": 1.54, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 330, "timestamp": "2026-02-18T08:10:00+00:00", "direction": "LONG", "entry": 68186.0, "target_1": 68545.18, "stop_loss": 67995.36, "rr": 1.88, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 396, "timestamp": "2026-02-18T13:40:00+00:00", "direction": "SHORT", "entry": 67258.6, "target_1": 66962.76, "stop_loss": 67496.98, "rr": 1.24, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 403, "timestamp": "2026-02-18T14:15:00+00:00", "direction": "SHORT", "entry": 67110.3, "target_1": 66761.25, "stop_loss": 67374.7, "rr": 1.32, "confidence": 80.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 406, "timestamp": "2026-02-18T14:30:00+00:00", "direction": "SHORT", "entry": 67032.5, "target_1": 66683.45, "stop_loss": 67316.77, "rr": 1.23, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 409, "timestamp": "2026-02-18T14:45:00+00:00", "direction": "SHORT", "entry": 66745.0, "target_1": 66188.68, "stop_loss": 67117.8, "rr": 1.49, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 425, "timestamp": "2026-02-18T16:05:00+00:00", "direction": "SHORT", "entry": 67098.8, "target_1": 66066.86, "stop_loss": 67639.8, "rr": 1.91, "confidence": 84.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 428, "timestamp": "2026-02-18T16:20:00+00:00", "direction": "SHORT", "entry": 67166.6, "target_1": 66134.66, "stop_loss": 67689.48, "rr": 1.97, "confidence": 84.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 444, "timestamp": "2026-02-18T17:40:00+00:00", "direction": "SHORT", "entry": 67073.8, "target_1": 66750.77, "stop_loss": 67438.21, "rr": 0.89, "confidence": 94.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 451, "timestamp": "2026-02-18T18:15:00+00:00", "direction": "SHORT", "entry": 66851.5, "target_1": 66467.47, "stop_loss": 67177.43, "rr": 1.18, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 454, "timestamp": "2026-02-18T18:30:00+00:00", "direction": "SHORT", "entry": 66829.1, "target_1": 66300.77, "stop_loss": 67183.37, "rr": 1.49, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 457, "timestamp": "2026-02-18T18:45:00+00:00", "direction": "SHORT", "entry": 66483.2, "target_1": 65747.97, "stop_loss": 66913.03, "rr": 1.71, "confidence": 100.0, "outcome": "OPEN"}, {"tf": "5m", "bar_index": 464, "timestamp": "2026-02-18T19:20:00+00:00", "direction": "SHORT", "entry": 66230.1, "target_1": 65566.31, "stop_loss": 66655.59, "rr": 1.56, "confidence": 90.0, "outcome": "OPEN"}, {"tf": "5m", "bar_index": 467, "timestamp": "2026-02-18T19:35:00+00:00", "direction": "SHORT", "entry": 65943.5, "target_1": 65092.14, "stop_loss": 66385.55, "rr": 1.93, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 512, "timestamp": "2026-02-18T23:20:00+00:00", "direction": "SHORT", "entry": 66272.4, "target_1": 66112.46, "stop_loss": 66479.37, "rr": 0.77, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 552, "timestamp": "2026-02-19T02:40:00+00:00", "direction": "SHORT", "entry": 66633.5, "target_1": 66365.91, "stop_loss": 66842.32, "rr": 1.28, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 581, "timestamp": "2026-02-19T05:05:00+00:00", "direction": "SHORT", "entry": 66716.1, "target_1": 66474.77, "stop_loss": 66890.19, "rr": 1.39, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 584, "timestamp": "2026-02-19T05:20:00+00:00", "direction": "SHORT", "entry": 66714.6, "target_1": 66473.27, "stop_loss": 66903.7, "rr": 1.28, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 607, "timestamp": "2026-02-19T07:15:00+00:00", "direction": "LONG", "entry": 67147.6, "target_1": 67506.47, "stop_loss": 66964.95, "rr": 1.96, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 660, "timestamp": "2026-02-19T11:40:00+00:00", "direction": "SHORT", "entry": 66636.6, "target_1": 66434.39, "stop_loss": 66806.88, "rr": 1.19, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 663, "timestamp": "2026-02-19T11:55:00+00:00", "direction": "SHORT", "entry": 66468.9, "target_1": 66152.85, "stop_loss": 66656.34, "rr": 1.69, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 676, "timestamp": "2026-02-19T13:00:00+00:00", "direction": "SHORT", "entry": 66405.7, "target_1": 66029.21, "stop_loss": 66615.16, "rr": 1.8, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 679, "timestamp": "2026-02-19T13:15:00+00:00", "direction": "SHORT", "entry": 66194.4, "target_1": 65819.64, "stop_loss": 66442.04, "rr": 1.51, "confidence": 100.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 683, "timestamp": "2026-02-19T13:35:00+00:00", "direction": "SHORT", "entry": 66067.4, "target_1": 65696.29, "stop_loss": 66328.72, "rr": 1.42, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 713, "timestamp": "2026-02-19T16:05:00+00:00", "direction": "SHORT", "entry": 66119.5, "target_1": 65422.83, "stop_loss": 66625.49, "rr": 1.38, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 733, "timestamp": "2026-02-19T17:45:00+00:00", "direction": "SHORT", "entry": 66412.7, "target_1": 65773.26, "stop_loss": 66870.94, "rr": 1.4, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 736, "timestamp": "2026-02-19T18:00:00+00:00", "direction": "SHORT", "entry": 66247.5, "target_1": 65653.35, "stop_loss": 66699.47, "rr": 1.31, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 771, "timestamp": "2026-02-19T20:55:00+00:00", "direction": "LONG", "entry": 67118.7, "target_1": 67415.83, "stop_loss": 66815.84, "rr": 0.98, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 810, "timestamp": "2026-02-20T00:10:00+00:00", "direction": "LONG", "entry": 67159.1, "target_1": 67505.37, "stop_loss": 66960.74, "rr": 1.75, "confidence": 90.0, "outcome": "OPEN"}, {"tf": "5m", "bar_index": 813, "timestamp": "2026-02-20T00:25:00+00:00", "direction": "LONG", "entry": 67352.7, "target_1": 67788.95, "stop_loss": 67115.11, "rr": 1.84, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 822, "timestamp": "2026-02-20T01:10:00+00:00", "direction": "LONG", "entry": 67302.0, "target_1": 67679.47, "stop_loss": 67102.09, "rr": 1.89, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 848, "timestamp": "2026-02-20T03:20:00+00:00", "direction": "LONG", "entry": 67353.5, "target_1": 67502.56, "stop_loss": 67200.51, "rr": 0.97, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 851, "timestamp": "2026-02-20T03:35:00+00:00", "direction": "LONG", "entry": 67441.5, "target_1": 67645.01, "stop_loss": 67279.98, "rr": 1.26, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 873, "timestamp": "2026-02-20T05:25:00+00:00", "direction": "LONG", "entry": 67380.0, "target_1": 67590.61, "stop_loss": 67227.89, "rr": 1.38, "confidence": 90.0, "outcome": "WIN"}, {"tf": "5m", "bar_index": 876, "timestamp": "2026-02-20T05:40:00+00:00", "direction": "LONG", "entry": 67876.1, "target_1": 68401.83, "stop_loss": 67642.8, "rr": 2.25, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 916, "timestamp": "2026-02-20T09:00:00+00:00", "direction": "LONG", "entry": 68138.9, "target_1": 68432.02, "stop_loss": 67937.15, "rr": 1.45, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 919, "timestamp": "2026-02-20T09:15:00+00:00", "direction": "LONG", "entry": 68070.3, "target_1": 68363.42, "stop_loss": 67870.25, "rr": 1.47, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "5m", "bar_index": 931, "timestamp": "2026-02-20T10:15:00+00:00", "direction": "LONG", "entry": 68194.8, "target_1": 68532.04, "stop_loss": 68008.09, "rr": 1.81, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 244, "timestamp": "2026-01-20T04:00:00+00:00", "direction": "SHORT", "entry": 92026.2, "target_1": 91112.18, "stop_loss": 92810.67, "rr": 1.17, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 245, "timestamp": "2026-01-20T05:00:00+00:00", "direction": "SHORT", "entry": 91590.1, "target_1": 90265.42, "stop_loss": 92433.76, "rr": 1.57, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 246, "timestamp": "2026-01-20T06:00:00+00:00", "direction": "SHORT", "entry": 90894.5, "target_1": 89253.28, "stop_loss": 91803.69, "rr": 1.81, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 247, "timestamp": "2026-01-20T07:00:00+00:00", "direction": "SHORT", "entry": 91136.1, "target_1": 89494.88, "stop_loss": 92044.53, "rr": 1.81, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 248, "timestamp": "2026-01-20T08:00:00+00:00", "direction": "SHORT", "entry": 91078.9, "target_1": 89375.2, "stop_loss": 92008.13, "rr": 1.83, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 254, "timestamp": "2026-01-20T14:00:00+00:00", "direction": "SHORT", "entry": 90496.7, "target_1": 88590.73, "stop_loss": 91435.15, "rr": 2.03, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 256, "timestamp": "2026-01-20T16:00:00+00:00", "direction": "SHORT", "entry": 90131.9, "target_1": 87973.16, "stop_loss": 91204.52, "rr": 2.01, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 257, "timestamp": "2026-01-20T17:00:00+00:00", "direction": "SHORT", "entry": 89739.6, "target_1": 87486.93, "stop_loss": 90890.38, "rr": 1.96, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 258, "timestamp": "2026-01-20T18:00:00+00:00", "direction": "SHORT", "entry": 89471.6, "target_1": 87311.69, "stop_loss": 90622.29, "rr": 1.88, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 262, "timestamp": "2026-01-20T22:00:00+00:00", "direction": "SHORT", "entry": 88469.0, "target_1": 85466.14, "stop_loss": 89757.45, "rr": 2.33, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 263, "timestamp": "2026-01-20T23:00:00+00:00", "direction": "SHORT", "entry": 88390.6, "target_1": 85515.11, "stop_loss": 89678.33, "rr": 2.23, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 281, "timestamp": "2026-01-21T17:00:00+00:00", "direction": "SHORT", "entry": 87897.0, "target_1": 85799.51, "stop_loss": 89516.09, "rr": 1.3, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 301, "timestamp": "2026-01-22T13:00:00+00:00", "direction": "SHORT", "entry": 89570.0, "target_1": 87791.64, "stop_loss": 90657.23, "rr": 1.64, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 302, "timestamp": "2026-01-22T14:00:00+00:00", "direction": "SHORT", "entry": 89055.0, "target_1": 87697.07, "stop_loss": 90164.83, "rr": 1.22, "confidence": 94.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 303, "timestamp": "2026-01-22T15:00:00+00:00", "direction": "SHORT", "entry": 88953.6, "target_1": 87789.66, "stop_loss": 90119.79, "rr": 1.0, "confidence": 94.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 304, "timestamp": "2026-01-22T16:00:00+00:00", "direction": "SHORT", "entry": 89006.9, "target_1": 87842.96, "stop_loss": 90175.63, "rr": 1.0, "confidence": 94.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 320, "timestamp": "2026-01-23T08:00:00+00:00", "direction": "SHORT", "entry": 89185.1, "target_1": 88045.57, "stop_loss": 90107.8, "rr": 1.23, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 321, "timestamp": "2026-01-23T09:00:00+00:00", "direction": "SHORT", "entry": 88939.9, "target_1": 87960.74, "stop_loss": 89868.12, "rr": 1.05, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 322, "timestamp": "2026-01-23T10:00:00+00:00", "direction": "SHORT", "entry": 89016.6, "target_1": 88037.44, "stop_loss": 89920.95, "rr": 1.08, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 326, "timestamp": "2026-01-23T14:00:00+00:00", "direction": "SHORT", "entry": 88976.0, "target_1": 88074.09, "stop_loss": 89910.47, "rr": 0.97, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 335, "timestamp": "2026-01-23T23:00:00+00:00", "direction": "SHORT", "entry": 89558.7, "target_1": 87911.73, "stop_loss": 90743.91, "rr": 1.39, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 336, "timestamp": "2026-01-24T00:00:00+00:00", "direction": "SHORT", "entry": 89414.2, "target_1": 87767.23, "stop_loss": 90544.4, "rr": 1.46, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 345, "timestamp": "2026-01-24T09:00:00+00:00", "direction": "SHORT", "entry": 89567.4, "target_1": 87920.43, "stop_loss": 90280.98, "rr": 2.31, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 346, "timestamp": "2026-01-24T10:00:00+00:00", "direction": "SHORT", "entry": 89590.1, "target_1": 87943.13, "stop_loss": 90265.91, "rr": 2.44, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 347, "timestamp": "2026-01-24T11:00:00+00:00", "direction": "SHORT", "entry": 89548.5, "target_1": 88293.09, "stop_loss": 90189.3, "rr": 1.96, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 348, "timestamp": "2026-01-24T12:00:00+00:00", "direction": "SHORT", "entry": 89497.6, "target_1": 88242.19, "stop_loss": 90108.4, "rr": 2.06, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 349, "timestamp": "2026-01-24T13:00:00+00:00", "direction": "SHORT", "entry": 89321.7, "target_1": 88184.64, "stop_loss": 89915.21, "rr": 1.92, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 350, "timestamp": "2026-01-24T14:00:00+00:00", "direction": "SHORT", "entry": 89407.7, "target_1": 88562.09, "stop_loss": 90007.46, "rr": 1.41, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 351, "timestamp": "2026-01-24T15:00:00+00:00", "direction": "SHORT", "entry": 89235.0, "target_1": 88621.39, "stop_loss": 89826.42, "rr": 1.04, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 352, "timestamp": "2026-01-24T16:00:00+00:00", "direction": "SHORT", "entry": 89248.6, "target_1": 88768.41, "stop_loss": 89828.52, "rr": 0.83, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 359, "timestamp": "2026-01-24T23:00:00+00:00", "direction": "SHORT", "entry": 89180.7, "target_1": 88746.12, "stop_loss": 89650.51, "rr": 0.93, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 361, "timestamp": "2026-01-25T01:00:00+00:00", "direction": "SHORT", "entry": 89139.7, "target_1": 88693.63, "stop_loss": 89599.55, "rr": 0.97, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 362, "timestamp": "2026-01-25T02:00:00+00:00", "direction": "SHORT", "entry": 89105.0, "target_1": 88708.06, "stop_loss": 89550.12, "rr": 0.89, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 363, "timestamp": "2026-01-25T03:00:00+00:00", "direction": "SHORT", "entry": 88920.0, "target_1": 88389.01, "stop_loss": 89382.89, "rr": 1.15, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 364, "timestamp": "2026-01-25T04:00:00+00:00", "direction": "SHORT", "entry": 88977.4, "target_1": 88457.48, "stop_loss": 89428.97, "rr": 1.15, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 366, "timestamp": "2026-01-25T06:00:00+00:00", "direction": "SHORT", "entry": 88810.0, "target_1": 88172.04, "stop_loss": 89274.19, "rr": 1.37, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 367, "timestamp": "2026-01-25T07:00:00+00:00", "direction": "SHORT", "entry": 88630.3, "target_1": 88040.17, "stop_loss": 89091.35, "rr": 1.28, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 368, "timestamp": "2026-01-25T08:00:00+00:00", "direction": "SHORT", "entry": 88254.8, "target_1": 87379.71, "stop_loss": 88774.8, "rr": 1.68, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 369, "timestamp": "2026-01-25T09:00:00+00:00", "direction": "SHORT", "entry": 88361.6, "target_1": 87504.0, "stop_loss": 88881.57, "rr": 1.65, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 375, "timestamp": "2026-01-25T15:00:00+00:00", "direction": "SHORT", "entry": 88406.0, "target_1": 87565.27, "stop_loss": 88972.0, "rr": 1.49, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 376, "timestamp": "2026-01-25T16:00:00+00:00", "direction": "SHORT", "entry": 88049.9, "target_1": 86855.43, "stop_loss": 88703.82, "rr": 1.83, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 377, "timestamp": "2026-01-25T17:00:00+00:00", "direction": "SHORT", "entry": 87845.7, "target_1": 86651.23, "stop_loss": 88503.64, "rr": 1.82, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 378, "timestamp": "2026-01-25T18:00:00+00:00", "direction": "SHORT", "entry": 87370.1, "target_1": 85726.41, "stop_loss": 88148.63, "rr": 2.11, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 379, "timestamp": "2026-01-25T19:00:00+00:00", "direction": "SHORT", "entry": 86459.4, "target_1": 84493.17, "stop_loss": 87377.92, "rr": 2.14, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 380, "timestamp": "2026-01-25T20:00:00+00:00", "direction": "SHORT", "entry": 86618.3, "target_1": 84652.07, "stop_loss": 87545.63, "rr": 2.12, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 381, "timestamp": "2026-01-25T21:00:00+00:00", "direction": "SHORT", "entry": 86525.1, "target_1": 84592.74, "stop_loss": 87475.26, "rr": 2.03, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 416, "timestamp": "2026-01-27T08:00:00+00:00", "direction": "SHORT", "entry": 88137.5, "target_1": 86887.1, "stop_loss": 89061.71, "rr": 1.35, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 417, "timestamp": "2026-01-27T09:00:00+00:00", "direction": "SHORT", "entry": 87852.6, "target_1": 86602.2, "stop_loss": 88755.45, "rr": 1.38, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 418, "timestamp": "2026-01-27T10:00:00+00:00", "direction": "SHORT", "entry": 87754.3, "target_1": 86503.9, "stop_loss": 88635.68, "rr": 1.42, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 419, "timestamp": "2026-01-27T11:00:00+00:00", "direction": "SHORT", "entry": 87947.5, "target_1": 86697.1, "stop_loss": 88817.18, "rr": 1.44, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 422, "timestamp": "2026-01-27T14:00:00+00:00", "direction": "SHORT", "entry": 87712.1, "target_1": 86799.62, "stop_loss": 88586.8, "rr": 1.04, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 425, "timestamp": "2026-01-27T17:00:00+00:00", "direction": "SHORT", "entry": 87510.4, "target_1": 86448.74, "stop_loss": 88604.47, "rr": 0.97, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 452, "timestamp": "2026-01-28T20:00:00+00:00", "direction": "SHORT", "entry": 89099.9, "target_1": 87983.36, "stop_loss": 90415.29, "rr": 0.85, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 455, "timestamp": "2026-01-28T23:00:00+00:00", "direction": "SHORT", "entry": 89261.7, "target_1": 88145.16, "stop_loss": 90476.1, "rr": 0.92, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 457, "timestamp": "2026-01-29T01:00:00+00:00", "direction": "SHORT", "entry": 88561.7, "target_1": 87273.79, "stop_loss": 89757.96, "rr": 1.08, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 458, "timestamp": "2026-01-29T02:00:00+00:00", "direction": "SHORT", "entry": 87857.9, "target_1": 86039.37, "stop_loss": 89121.83, "rr": 1.44, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 459, "timestamp": "2026-01-29T03:00:00+00:00", "direction": "SHORT", "entry": 88003.2, "target_1": 86184.67, "stop_loss": 89248.78, "rr": 1.46, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 470, "timestamp": "2026-01-29T14:00:00+00:00", "direction": "SHORT", "entry": 86978.7, "target_1": 85165.49, "stop_loss": 87973.03, "rr": 1.82, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 471, "timestamp": "2026-01-29T15:00:00+00:00", "direction": "SHORT", "entry": 84898.0, "target_1": 81471.38, "stop_loss": 86203.92, "rr": 2.62, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 472, "timestamp": "2026-01-29T16:00:00+00:00", "direction": "SHORT", "entry": 85230.3, "target_1": 81999.95, "stop_loss": 86606.54, "rr": 2.35, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 473, "timestamp": "2026-01-29T17:00:00+00:00", "direction": "SHORT", "entry": 84225.0, "target_1": 80826.87, "stop_loss": 85739.67, "rr": 2.24, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 474, "timestamp": "2026-01-29T18:00:00+00:00", "direction": "SHORT", "entry": 83440.9, "target_1": 79684.51, "stop_loss": 85024.56, "rr": 2.37, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 481, "timestamp": "2026-01-30T01:00:00+00:00", "direction": "SHORT", "entry": 82434.7, "target_1": 77823.68, "stop_loss": 84174.93, "rr": 2.65, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 482, "timestamp": "2026-01-30T02:00:00+00:00", "direction": "SHORT", "entry": 82128.1, "target_1": 77517.08, "stop_loss": 83943.8, "rr": 2.54, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 513, "timestamp": "2026-01-31T09:00:00+00:00", "direction": "SHORT", "entry": 83075.3, "target_1": 81365.29, "stop_loss": 84307.94, "rr": 1.39, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 514, "timestamp": "2026-01-31T10:00:00+00:00", "direction": "SHORT", "entry": 83120.9, "target_1": 81410.89, "stop_loss": 84305.49, "rr": 1.44, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 515, "timestamp": "2026-01-31T11:00:00+00:00", "direction": "SHORT", "entry": 82983.2, "target_1": 81273.19, "stop_loss": 84128.71, "rr": 1.49, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 516, "timestamp": "2026-01-31T12:00:00+00:00", "direction": "SHORT", "entry": 82735.6, "target_1": 81025.59, "stop_loss": 83861.84, "rr": 1.52, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 517, "timestamp": "2026-01-31T13:00:00+00:00", "direction": "SHORT", "entry": 82733.0, "target_1": 81022.99, "stop_loss": 83841.51, "rr": 1.54, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 518, "timestamp": "2026-01-31T14:00:00+00:00", "direction": "SHORT", "entry": 81452.5, "target_1": 79076.48, "stop_loss": 82788.17, "rr": 1.78, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 519, "timestamp": "2026-01-31T15:00:00+00:00", "direction": "SHORT", "entry": 81268.6, "target_1": 78961.36, "stop_loss": 82611.77, "rr": 1.72, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 520, "timestamp": "2026-01-31T16:00:00+00:00", "direction": "SHORT", "entry": 80320.9, "target_1": 77578.4, "stop_loss": 81875.27, "rr": 1.76, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 521, "timestamp": "2026-01-31T17:00:00+00:00", "direction": "SHORT", "entry": 78857.1, "target_1": 74975.19, "stop_loss": 80657.13, "rr": 2.16, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 522, "timestamp": "2026-01-31T18:00:00+00:00", "direction": "SHORT", "entry": 77996.8, "target_1": 72582.07, "stop_loss": 80182.54, "rr": 2.48, "confidence": 100.0, "outcome": "OPEN"}, {"tf": "1h", "bar_index": 523, "timestamp": "2026-01-31T19:00:00+00:00", "direction": "SHORT", "entry": 77707.9, "target_1": 72306.89, "stop_loss": 79935.09, "rr": 2.43, "confidence": 100.0, "outcome": "OPEN"}, {"tf": "1h", "bar_index": 549, "timestamp": "2026-02-01T21:00:00+00:00", "direction": "SHORT", "entry": 76489.0, "target_1": 74705.08, "stop_loss": 78221.6, "rr": 1.03, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 556, "timestamp": "2026-02-02T04:00:00+00:00", "direction": "SHORT", "entry": 75856.3, "target_1": 72989.4, "stop_loss": 78107.82, "rr": 1.27, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 557, "timestamp": "2026-02-02T05:00:00+00:00", "direction": "SHORT", "entry": 75449.6, "target_1": 72582.7, "stop_loss": 77698.29, "rr": 1.27, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 586, "timestamp": "2026-02-03T10:00:00+00:00", "direction": "SHORT", "entry": 78077.2, "target_1": 76967.64, "stop_loss": 79610.39, "rr": 0.72, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 587, "timestamp": "2026-02-03T11:00:00+00:00", "direction": "SHORT", "entry": 78040.1, "target_1": 77000.93, "stop_loss": 79514.61, "rr": 0.7, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 590, "timestamp": "2026-02-03T14:00:00+00:00", "direction": "SHORT", "entry": 77164.5, "target_1": 75908.85, "stop_loss": 78615.26, "rr": 0.87, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 592, "timestamp": "2026-02-03T16:00:00+00:00", "direction": "SHORT", "entry": 76458.2, "target_1": 74780.33, "stop_loss": 78102.32, "rr": 1.02, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 593, "timestamp": "2026-02-03T17:00:00+00:00", "direction": "SHORT", "entry": 74882.4, "target_1": 72213.69, "stop_loss": 76645.55, "rr": 1.51, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 594, "timestamp": "2026-02-03T18:00:00+00:00", "direction": "SHORT", "entry": 73111.7, "target_1": 69364.77, "stop_loss": 75058.6, "rr": 1.92, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 613, "timestamp": "2026-02-04T13:00:00+00:00", "direction": "SHORT", "entry": 74838.4, "target_1": 72327.28, "stop_loss": 76425.4, "rr": 1.58, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 614, "timestamp": "2026-02-04T14:00:00+00:00", "direction": "SHORT", "entry": 74328.9, "target_1": 71817.78, "stop_loss": 76025.82, "rr": 1.48, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 615, "timestamp": "2026-02-04T15:00:00+00:00", "direction": "SHORT", "entry": 74107.0, "target_1": 72131.56, "stop_loss": 75903.14, "rr": 1.1, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 616, "timestamp": "2026-02-04T16:00:00+00:00", "direction": "SHORT", "entry": 73609.1, "target_1": 71189.94, "stop_loss": 75444.63, "rr": 1.32, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 617, "timestamp": "2026-02-04T17:00:00+00:00", "direction": "SHORT", "entry": 72544.2, "target_1": 69545.97, "stop_loss": 74495.0, "rr": 1.54, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 621, "timestamp": "2026-02-04T21:00:00+00:00", "direction": "SHORT", "entry": 72772.8, "target_1": 69774.57, "stop_loss": 74869.49, "rr": 1.43, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 622, "timestamp": "2026-02-04T22:00:00+00:00", "direction": "SHORT", "entry": 72511.1, "target_1": 69350.34, "stop_loss": 74720.5, "rr": 1.43, "confidence": 80.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 626, "timestamp": "2026-02-05T02:00:00+00:00", "direction": "SHORT", "entry": 71429.1, "target_1": 68114.58, "stop_loss": 73670.35, "rr": 1.48, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 627, "timestamp": "2026-02-05T03:00:00+00:00", "direction": "SHORT", "entry": 71198.9, "target_1": 67826.47, "stop_loss": 73385.63, "rr": 1.54, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 628, "timestamp": "2026-02-05T04:00:00+00:00", "direction": "SHORT", "entry": 70873.2, "target_1": 67232.13, "stop_loss": 73010.02, "rr": 1.7, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 629, "timestamp": "2026-02-05T05:00:00+00:00", "direction": "SHORT", "entry": 70694.9, "target_1": 66848.72, "stop_loss": 72827.19, "rr": 1.8, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 635, "timestamp": "2026-02-05T11:00:00+00:00", "direction": "SHORT", "entry": 70279.0, "target_1": 67590.82, "stop_loss": 72335.82, "rr": 1.31, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 636, "timestamp": "2026-02-05T12:00:00+00:00", "direction": "SHORT", "entry": 69532.9, "target_1": 66424.98, "stop_loss": 71650.59, "rr": 1.47, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 637, "timestamp": "2026-02-05T13:00:00+00:00", "direction": "SHORT", "entry": 69656.3, "target_1": 66548.38, "stop_loss": 71704.96, "rr": 1.52, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 638, "timestamp": "2026-02-05T14:00:00+00:00", "direction": "SHORT", "entry": 69365.5, "target_1": 66257.58, "stop_loss": 71496.58, "rr": 1.46, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 639, "timestamp": "2026-02-05T15:00:00+00:00", "direction": "SHORT", "entry": 67451.9, "target_1": 62832.29, "stop_loss": 69845.56, "rr": 1.93, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 641, "timestamp": "2026-02-05T17:00:00+00:00", "direction": "SHORT", "entry": 66153.9, "target_1": 61487.81, "stop_loss": 68769.37, "rr": 1.78, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 642, "timestamp": "2026-02-05T18:00:00+00:00", "direction": "SHORT", "entry": 66312.1, "target_1": 61281.02, "stop_loss": 68906.48, "rr": 1.94, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 643, "timestamp": "2026-02-05T19:00:00+00:00", "direction": "SHORT", "entry": 65237.4, "target_1": 60196.81, "stop_loss": 67854.37, "rr": 1.93, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 644, "timestamp": "2026-02-05T20:00:00+00:00", "direction": "SHORT", "entry": 63750.9, "target_1": 56901.61, "stop_loss": 66673.06, "rr": 2.34, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 645, "timestamp": "2026-02-05T21:00:00+00:00", "direction": "SHORT", "entry": 63188.8, "target_1": 56638.49, "stop_loss": 66174.42, "rr": 2.19, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 678, "timestamp": "2026-02-07T06:00:00+00:00", "direction": "SHORT", "entry": 68733.6, "target_1": 65036.54, "stop_loss": 71228.46, "rr": 1.48, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 679, "timestamp": "2026-02-07T07:00:00+00:00", "direction": "SHORT", "entry": 68050.5, "target_1": 64563.5, "stop_loss": 70624.3, "rr": 1.35, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 680, "timestamp": "2026-02-07T08:00:00+00:00", "direction": "SHORT", "entry": 68458.5, "target_1": 65199.42, "stop_loss": 71003.74, "rr": 1.28, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 681, "timestamp": "2026-02-07T09:00:00+00:00", "direction": "SHORT", "entry": 68107.4, "target_1": 64909.19, "stop_loss": 70596.13, "rr": 1.29, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 682, "timestamp": "2026-02-07T10:00:00+00:00", "direction": "SHORT", "entry": 67954.8, "target_1": 65195.8, "stop_loss": 70371.16, "rr": 1.14, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 683, "timestamp": "2026-02-07T11:00:00+00:00", "direction": "SHORT", "entry": 67935.1, "target_1": 65176.1, "stop_loss": 70249.28, "rr": 1.19, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 699, "timestamp": "2026-02-08T03:00:00+00:00", "direction": "SHORT", "entry": 69064.7, "target_1": 67550.72, "stop_loss": 70662.52, "rr": 0.95, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 719, "timestamp": "2026-02-08T23:00:00+00:00", "direction": "SHORT", "entry": 70288.1, "target_1": 68204.2, "stop_loss": 71860.13, "rr": 1.33, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 721, "timestamp": "2026-02-09T01:00:00+00:00", "direction": "SHORT", "entry": 70328.0, "target_1": 68322.59, "stop_loss": 71898.35, "rr": 1.28, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 727, "timestamp": "2026-02-09T07:00:00+00:00", "direction": "SHORT", "entry": 70393.5, "target_1": 68918.52, "stop_loss": 71840.45, "rr": 1.02, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 728, "timestamp": "2026-02-09T08:00:00+00:00", "direction": "SHORT", "entry": 69832.2, "target_1": 68014.41, "stop_loss": 71350.75, "rr": 1.2, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 729, "timestamp": "2026-02-09T09:00:00+00:00", "direction": "SHORT", "entry": 69588.0, "target_1": 67770.21, "stop_loss": 71091.28, "rr": 1.21, "confidence": 94.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 730, "timestamp": "2026-02-09T10:00:00+00:00", "direction": "SHORT", "entry": 68694.0, "target_1": 66267.67, "stop_loss": 70279.19, "rr": 1.53, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 731, "timestamp": "2026-02-09T11:00:00+00:00", "direction": "SHORT", "entry": 68899.9, "target_1": 66473.57, "stop_loss": 70435.81, "rr": 1.58, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 733, "timestamp": "2026-02-09T13:00:00+00:00", "direction": "SHORT", "entry": 68556.9, "target_1": 66130.57, "stop_loss": 70037.91, "rr": 1.64, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 747, "timestamp": "2026-02-10T03:00:00+00:00", "direction": "SHORT", "entry": 69473.3, "target_1": 67734.68, "stop_loss": 71035.37, "rr": 1.11, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 748, "timestamp": "2026-02-10T04:00:00+00:00", "direction": "SHORT", "entry": 69800.5, "target_1": 68061.88, "stop_loss": 71315.74, "rr": 1.15, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 749, "timestamp": "2026-02-10T05:00:00+00:00", "direction": "SHORT", "entry": 69415.3, "target_1": 67676.68, "stop_loss": 70917.02, "rr": 1.16, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 750, "timestamp": "2026-02-10T06:00:00+00:00", "direction": "SHORT", "entry": 68872.4, "target_1": 67133.78, "stop_loss": 70386.36, "rr": 1.15, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 751, "timestamp": "2026-02-10T07:00:00+00:00", "direction": "SHORT", "entry": 68882.1, "target_1": 67143.48, "stop_loss": 70341.24, "rr": 1.19, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 755, "timestamp": "2026-02-10T11:00:00+00:00", "direction": "SHORT", "entry": 68489.9, "target_1": 66834.53, "stop_loss": 69828.86, "rr": 1.24, "confidence": 80.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 758, "timestamp": "2026-02-10T14:00:00+00:00", "direction": "SHORT", "entry": 68426.3, "target_1": 66447.46, "stop_loss": 69896.12, "rr": 1.35, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 766, "timestamp": "2026-02-10T22:00:00+00:00", "direction": "SHORT", "entry": 68662.7, "target_1": 67269.48, "stop_loss": 70140.08, "rr": 0.94, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 771, "timestamp": "2026-02-11T03:00:00+00:00", "direction": "SHORT", "entry": 68143.6, "target_1": 66861.31, "stop_loss": 69488.97, "rr": 0.95, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 772, "timestamp": "2026-02-11T04:00:00+00:00", "direction": "SHORT", "entry": 67548.8, "target_1": 65918.58, "stop_loss": 68936.36, "rr": 1.17, "confidence": 100.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 773, "timestamp": "2026-02-11T05:00:00+00:00", "direction": "SHORT", "entry": 67367.8, "target_1": 65737.58, "stop_loss": 68716.88, "rr": 1.21, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 774, "timestamp": "2026-02-11T06:00:00+00:00", "direction": "SHORT", "entry": 66788.0, "target_1": 64657.82, "stop_loss": 68176.77, "rr": 1.53, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 775, "timestamp": "2026-02-11T07:00:00+00:00", "direction": "SHORT", "entry": 67000.0, "target_1": 64869.82, "stop_loss": 68378.84, "rr": 1.54, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 778, "timestamp": "2026-02-11T10:00:00+00:00", "direction": "SHORT", "entry": 66506.0, "target_1": 64271.74, "stop_loss": 67779.87, "rr": 1.75, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 782, "timestamp": "2026-02-11T14:00:00+00:00", "direction": "SHORT", "entry": 66559.9, "target_1": 64745.7, "stop_loss": 68098.19, "rr": 1.18, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 783, "timestamp": "2026-02-11T15:00:00+00:00", "direction": "SHORT", "entry": 66489.3, "target_1": 64298.98, "stop_loss": 68070.59, "rr": 1.39, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 784, "timestamp": "2026-02-11T16:00:00+00:00", "direction": "SHORT", "entry": 66008.0, "target_1": 63817.68, "stop_loss": 67667.77, "rr": 1.32, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 808, "timestamp": "2026-02-12T16:00:00+00:00", "direction": "SHORT", "entry": 65825.7, "target_1": 64044.75, "stop_loss": 67349.95, "rr": 1.17, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 809, "timestamp": "2026-02-12T17:00:00+00:00", "direction": "SHORT", "entry": 65383.9, "target_1": 63489.98, "stop_loss": 66930.47, "rr": 1.22, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 810, "timestamp": "2026-02-12T18:00:00+00:00", "direction": "SHORT", "entry": 65559.4, "target_1": 63517.53, "stop_loss": 67092.93, "rr": 1.33, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 811, "timestamp": "2026-02-12T19:00:00+00:00", "direction": "SHORT", "entry": 65760.7, "target_1": 63718.83, "stop_loss": 67307.09, "rr": 1.32, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 812, "timestamp": "2026-02-12T20:00:00+00:00", "direction": "SHORT", "entry": 65401.0, "target_1": 63359.13, "stop_loss": 66955.64, "rr": 1.31, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 876, "timestamp": "2026-02-15T12:00:00+00:00", "direction": "SHORT", "entry": 69284.9, "target_1": 68218.05, "stop_loss": 70282.55, "rr": 1.07, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 877, "timestamp": "2026-02-15T13:00:00+00:00", "direction": "SHORT", "entry": 68907.2, "target_1": 67549.39, "stop_loss": 69955.27, "rr": 1.3, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 878, "timestamp": "2026-02-15T14:00:00+00:00", "direction": "SHORT", "entry": 69140.0, "target_1": 67782.19, "stop_loss": 70165.85, "rr": 1.32, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 879, "timestamp": "2026-02-15T15:00:00+00:00", "direction": "SHORT", "entry": 69068.1, "target_1": 67710.29, "stop_loss": 70075.68, "rr": 1.35, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 880, "timestamp": "2026-02-15T16:00:00+00:00", "direction": "SHORT", "entry": 68977.6, "target_1": 67619.79, "stop_loss": 69959.07, "rr": 1.38, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 881, "timestamp": "2026-02-15T17:00:00+00:00", "direction": "SHORT", "entry": 68607.8, "target_1": 66885.74, "stop_loss": 69647.5, "rr": 1.66, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 882, "timestamp": "2026-02-15T18:00:00+00:00", "direction": "SHORT", "entry": 68420.0, "target_1": 66697.94, "stop_loss": 69450.77, "rr": 1.67, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 883, "timestamp": "2026-02-15T19:00:00+00:00", "direction": "SHORT", "entry": 68263.6, "target_1": 66465.9, "stop_loss": 69294.03, "rr": 1.74, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 890, "timestamp": "2026-02-16T02:00:00+00:00", "direction": "SHORT", "entry": 68295.1, "target_1": 66497.4, "stop_loss": 69302.55, "rr": 1.78, "confidence": 90.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 893, "timestamp": "2026-02-16T05:00:00+00:00", "direction": "SHORT", "entry": 68350.1, "target_1": 66814.37, "stop_loss": 69347.93, "rr": 1.54, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 903, "timestamp": "2026-02-16T15:00:00+00:00", "direction": "SHORT", "entry": 67505.5, "target_1": 65737.46, "stop_loss": 68785.77, "rr": 1.38, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 904, "timestamp": "2026-02-16T16:00:00+00:00", "direction": "SHORT", "entry": 67854.0, "target_1": 66085.96, "stop_loss": 69110.68, "rr": 1.41, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 905, "timestamp": "2026-02-16T17:00:00+00:00", "direction": "SHORT", "entry": 67917.2, "target_1": 66149.16, "stop_loss": 69154.28, "rr": 1.43, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 906, "timestamp": "2026-02-16T18:00:00+00:00", "direction": "SHORT", "entry": 67833.0, "target_1": 66064.96, "stop_loss": 69041.96, "rr": 1.46, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 920, "timestamp": "2026-02-17T08:00:00+00:00", "direction": "SHORT", "entry": 68140.0, "target_1": 66371.96, "stop_loss": 69157.91, "rr": 1.74, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 921, "timestamp": "2026-02-17T09:00:00+00:00", "direction": "SHORT", "entry": 68087.1, "target_1": 66864.33, "stop_loss": 69078.79, "rr": 1.23, "confidence": 84.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 922, "timestamp": "2026-02-17T10:00:00+00:00", "direction": "SHORT", "entry": 67822.1, "target_1": 66599.33, "stop_loss": 68815.75, "rr": 1.23, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 923, "timestamp": "2026-02-17T11:00:00+00:00", "direction": "SHORT", "entry": 67824.4, "target_1": 66740.68, "stop_loss": 68782.69, "rr": 1.13, "confidence": 90.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 926, "timestamp": "2026-02-17T14:00:00+00:00", "direction": "SHORT", "entry": 66846.7, "target_1": 65269.25, "stop_loss": 67993.74, "rr": 1.38, "confidence": 100.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 927, "timestamp": "2026-02-17T15:00:00+00:00", "direction": "SHORT", "entry": 67363.6, "target_1": 65731.71, "stop_loss": 68542.06, "rr": 1.38, "confidence": 80.0, "outcome": "WIN"}, {"tf": "1h", "bar_index": 929, "timestamp": "2026-02-17T17:00:00+00:00", "direction": "SHORT", "entry": 67208.6, "target_1": 65576.71, "stop_loss": 68461.02, "rr": 1.3, "confidence": 80.0, "outcome": "OPEN"}, {"tf": "1h", "bar_index": 936, "timestamp": "2026-02-18T00:00:00+00:00", "direction": "SHORT", "entry": 67263.9, "target_1": 66084.51, "stop_loss": 68375.03, "rr": 1.06, "confidence": 84.0, "outcome": "LOSS"}, {"tf": "1h", "bar_index": 937, "timestamp": "2026-02-18T01:00:00+00:00", "direction": "SHORT", "entry": 67137.2, "target_1": 65957.81, "stop_loss": 68239.88, "rr": 1.07, "confidence": 90.0, "outcome": "LOSS"}];
const ALERTS = [{"symbol": "BTC/USDT:USDT", "signal_type": "SHORT", "timeframe": "1h", "entry_price": 67216.1, "target_1": 66056.98, "target_2": 65340.5, "stop_loss": 68367.66, "risk_reward": 1.01, "confidence_score": 74.0, "oi_signal": "Weak Bearish (Long Liquidation)", "timestamp": "2026-02-20T15:46:16.691987+00:00", "indicator_breakdown": {"vwap": {"weight": 20, "earned": 20, "aligned": true}, "ema": {"weight": 20, "earned": 20, "aligned": true}, "macd": {"weight": 15, "earned": 15, "aligned": true}, "rsi": {"weight": 15, "earned": 9, "aligned": true}, "bb": {"weight": 10, "earned": 0, "aligned": false}, "obv": {"weight": 10, "earned": 0, "aligned": false}, "oi": {"weight": 10, "earned": 10, "aligned": true}, "total_score": 74.0}}, {"symbol": "BTC/USDT:USDT", "signal_type": "LONG", "timeframe": "1m", "entry_price": 67557.7, "target_1": 68017.62, "target_2": 68301.9, "stop_loss": 67307.72, "risk_reward": 1.84, "confidence_score": 80.0, "oi_signal": "Strong Bullish", "timestamp": "2026-02-20T15:56:03.302283+00:00", "indicator_breakdown": {"vwap": {"weight": 20, "earned": 20, "aligned": true}, "ema": {"weight": 20, "earned": 0, "aligned": false}, "macd": {"weight": 15, "earned": 15, "aligned": true}, "rsi": {"weight": 15, "earned": 15, "aligned": true}, "bb": {"weight": 10, "earned": 10, "aligned": true}, "obv": {"weight": 10, "earned": 10, "aligned": true}, "oi": {"weight": 10, "earned": 10, "aligned": true}, "total_score": 80.0}}];

// Chart global defaults
Chart.defaults.color       = '#8b949e';
Chart.defaults.borderColor = '#30363d';
Chart.defaults.font.family = "-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif";
Chart.defaults.font.size   = 11;

const C = { green:'#3fb950', red:'#f85149', yellow:'#d29922', blue:'#58a6ff', purple:'#bc8cff' };

document.getElementById('gen-ts').textContent = 'Generated ' + new Date().toLocaleString();

//  Summary Cards 
(function renderCards() {
  const s = STATS;
  const wr_c = s.win_rate >= 55 ? C.green : s.win_rate >= 45 ? C.yellow : C.red;
  const ev_c = s.ev >= 0 ? C.green : C.red;
  let cards = [
    { v: s.total,              l: 'Total Signals',   c: C.blue },
    { v: s.resolved,           l: 'Resolved',        c: '#e6edf3' },
    { v: s.win_rate + '%',     l: 'Win Rate',        c: wr_c },
    { v: s.avg_rr + 'x',      l: 'Avg R:R',         c: C.blue },
    { v: (s.ev>=0?'+':'')+s.ev+'R', l: 'Expected Value', c: ev_c },
    { v: s.opens,              l: 'Still Open',      c: C.yellow },
  ];
  for (const [tf, d] of Object.entries(s.by_tf || {})) {
    const c = d.win_rate >= 55 ? C.green : d.win_rate >= 45 ? C.yellow : C.red;
    cards.push({ v: d.win_rate.toFixed(1)+'%', l: tf.toUpperCase()+' Win Rate', c, sub: d.wins+'/'+(d.wins+d.losses)+' resolved' });
  }
  document.getElementById('summary-cards').innerHTML = cards.map(c => `
    <div class="col-6 col-sm-4 col-md-3 col-xl-2">
      <div class="card stat-card">
        <div class="stat-value" style="color:${c.c}">${c.v}</div>
        <div class="stat-label">${c.l}</div>
        ${c.sub ? `<div class="stat-sub">${c.sub}</div>` : ''}
      </div>
    </div>`).join('');
})();

//  Confidence Band Chart 
(function renderConfChart() {
  const bands = STATS.by_conf || {};
  const labels = Object.keys(bands);
  const rates  = labels.map(k => bands[k].win_rate);
  const counts = labels.map(k => bands[k].total);
  new Chart(document.getElementById('confChart'), {
    data: {
      labels,
      datasets: [
        { type:'bar', label:'Win Rate %', data: rates,
          backgroundColor: rates.map(v => v>=55?'rgba(63,185,80,0.75)':v>=45?'rgba(210,153,34,0.75)':'rgba(248,81,73,0.75)'),
          borderRadius:4, yAxisID:'y' },
        { type:'bar', label:'Signals',    data: counts,
          backgroundColor:'rgba(88,166,255,0.2)', borderColor:'rgba(88,166,255,0.5)', borderWidth:1,
          borderRadius:4, yAxisID:'y2' },
      ]
    },
    options: {
      responsive:true, maintainAspectRatio:false,
      plugins: { legend:{ position:'bottom', labels:{ boxWidth:10, padding:10 } },
                 tooltip:{ callbacks:{ label: ctx => ctx.dataset.label+': '+ctx.raw+(ctx.datasetIndex===0?'%':'') } } },
      scales: {
        y:  { position:'left',  grid:{ color:'#21262d' }, ticks:{ callback:v=>v+'%' }, max:100, min:0 },
        y2: { position:'right', grid:{ display:false } },
        x:  { grid:{ display:false } }
      }
    }
  });
})();

//  Outcome Doughnut 
(function renderOutcomeChart() {
  const s = STATS;
  new Chart(document.getElementById('outcomeChart'), {
    type:'doughnut',
    data: {
      labels:['WIN','LOSS','OPEN'],
      datasets:[{ data:[s.wins,s.losses,s.opens], backgroundColor:[C.green,C.red,C.yellow], borderWidth:0, hoverOffset:5 }]
    },
    options: {
      responsive:true, maintainAspectRatio:false, cutout:'66%',
      plugins: {
        legend:{ position:'bottom', labels:{ boxWidth:10, padding:10 } },
        tooltip:{ callbacks:{ label: ctx => ctx.label+': '+ctx.raw+' ('+((ctx.raw/s.total)*100).toFixed(1)+'%)' } }
      }
    }
  });
})();

//  Direction Bar Chart 
(function renderDirChart() {
  const d = STATS.by_dir || {};
  const keys = Object.keys(d);
  new Chart(document.getElementById('dirChart'), {
    type:'bar',
    data: {
      labels: keys,
      datasets:[{
        label:'Win Rate %',
        data: keys.map(k => d[k].win_rate),
        backgroundColor: [C.blue, C.purple],
        borderRadius:6
      }]
    },
    options: {
      responsive:true, maintainAspectRatio:false, indexAxis:'y',
      plugins: {
        legend:{ display:false },
        tooltip:{ callbacks:{ label: ctx => ctx.raw+'%  ('+d[keys[ctx.dataIndex]].wins+'/'+d[keys[ctx.dataIndex]].resolved+' resolved)' } }
      },
      scales: {
        x:{ grid:{ color:'#21262d' }, ticks:{ callback:v=>v+'%' }, max:100, min:0 },
        y:{ grid:{ display:false } }
      }
    }
  });
})();

//  Cumulative P&L 
(function renderPnlChart() {
  const pnl = STATS.cumulative_pnl || [];
  if (!pnl.length) return;
  const step   = Math.max(1, Math.floor(pnl.length / 24));
  const labels = pnl.map((p,i) => i % step === 0 ? p.ts.slice(5) : '');
  const data   = pnl.map(p => p.val);
  const final  = data[data.length-1];
  new Chart(document.getElementById('pnlChart'), {
    type:'line',
    data: {
      labels,
      datasets:[{
        data,
        borderColor: final >= 0 ? C.green : C.red,
        borderWidth: 1.5,
        pointRadius: 0,
        pointHoverRadius: 4,
        fill: { target:'origin', above:'rgba(63,185,80,0.07)', below:'rgba(248,81,73,0.07)' },
        tension: 0.25,
      }]
    },
    options: {
      responsive:true, maintainAspectRatio:false,
      plugins: {
        legend:{ display:false },
        tooltip:{ callbacks:{
          title: items => pnl[items[0].dataIndex].ts,
          label: ctx  => (ctx.raw>=0?'+':'')+ctx.raw.toFixed(3)+'R  ['+pnl[ctx.dataIndex].tf+' '+pnl[ctx.dataIndex].outcome+']'
        }}
      },
      scales: {
        x:{ grid:{ display:false }, ticks:{ maxRotation:0 } },
        y:{ grid:{ color:'#21262d' }, ticks:{ callback:v=>(v>=0?'+':'')+v+'R' } }
      }
    }
  });
})();

//  Trades Table 
function bp(cls, txt) { return `<span class="badge-pill bp-${cls}">${txt}</span>`; }
function fmt(n) { return parseFloat(n).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2}); }
function confColor(c) { return c>=90?'#3fb950':c>=85?'#58a6ff':c>=80?'#d29922':'#8b949e'; }

(function initTable() {
  const tfs = [...new Set(TRADES.map(t=>t.tf))].sort();
  const sel = document.getElementById('fTf');
  tfs.forEach(tf => { const o=document.createElement('option'); o.value=o.textContent=tf; sel.appendChild(o); });
  ['fTf','fOut','fDir'].forEach(id => document.getElementById(id).addEventListener('change', renderTable));
  renderTable();
})();

function renderTable() {
  const tf  = document.getElementById('fTf').value;
  const out = document.getElementById('fOut').value;
  const dir = document.getElementById('fDir').value;
  const filtered = TRADES.filter(t =>
    (!tf  || t.tf === tf) &&
    (!out || t.outcome === out) &&
    (!dir || t.direction === dir)
  );
  document.getElementById('tradesBody').innerHTML = filtered.map(t => `
    <tr>
      <td><code style="color:var(--muted);font-size:0.78rem">${t.tf}</code></td>
      <td style="color:var(--muted);white-space:nowrap;font-size:0.78rem">${t.timestamp.slice(0,16).replace('T',' ')}</td>
      <td>${bp(t.direction.toLowerCase(), t.direction)}</td>
      <td class="text-end">${fmt(t.entry)}</td>
      <td class="text-end win">${fmt(t.target_1)}</td>
      <td class="text-end loss">${fmt(t.stop_loss)}</td>
      <td class="text-end">${parseFloat(t.rr).toFixed(2)}x</td>
      <td class="text-end"><span style="color:${confColor(t.confidence)};font-weight:600">${t.confidence}</span></td>
      <td>${bp(t.outcome.toLowerCase(), t.outcome)}</td>
    </tr>`).join('');
  document.getElementById('tradeCount').textContent =
    `Showing ${filtered.length} of ${TRADES.length} trades`;
}

//  Live Alerts 
(function renderAlerts() {
  if (!ALERTS.length) return;
  document.getElementById('alertsSection').style.display = '';
  document.getElementById('alert-count').textContent = ALERTS.length + ' alert' + (ALERTS.length !== 1 ? 's' : '') + ' recorded';
  // Pulse animation on live dot
  const dot = document.getElementById('live-dot');
  dot.style.animation = 'pulse 2s infinite';
  const style = document.createElement('style');
  style.textContent = '@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(1.4)} }';
  document.head.appendChild(style);
  const list = document.getElementById('alertsList');
  list.innerHTML = [...ALERTS].reverse().slice(0, 20).map(a => {
    const bd = a.indicator_breakdown || {};
    const chips = Object.entries(bd)
      .filter(([k]) => k !== 'total_score')
      .map(([k,v]) => `<span class="chip ${v.aligned?'chip-ok':'chip-no'}">${k.toUpperCase()} ${v.earned}/${v.weight}</span>`)
      .join('');
    return `
    <div class="alert-card alert-${a.signal_type.toLowerCase()}">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          ${bp(a.signal_type.toLowerCase(), a.signal_type)}
          <span style="color:var(--muted);font-size:0.78rem;margin-left:8px">${a.timeframe} &nbsp; ${a.timestamp.slice(0,16).replace('T',' ')} UTC</span>
        </div>
        <span style="font-weight:700;color:${confColor(a.confidence_score)}">${a.confidence_score}/100</span>
      </div>
      <div style="margin-top:8px;font-size:0.85rem;">
        <span style="color:var(--muted)">Entry</span> <b>$${parseFloat(a.entry_price).toLocaleString(undefined,{minimumFractionDigits:2})}</b>
        &nbsp;&nbsp;<span style="color:var(--muted)">T1</span> <b class="win">$${parseFloat(a.target_1).toLocaleString(undefined,{minimumFractionDigits:2})}</b>
        &nbsp;&nbsp;<span style="color:var(--muted)">SL</span> <b class="loss">$${parseFloat(a.stop_loss).toLocaleString(undefined,{minimumFractionDigits:2})}</b>
        &nbsp;&nbsp;<span style="color:var(--muted)">R:R</span> <b>${a.risk_reward}x</b>
        &nbsp;&nbsp;<span style="color:var(--muted);font-size:0.78rem">${a.oi_signal}</span>
      </div>
      <div style="margin-top:6px">${chips}</div>
    </div>`;
  }).join('');
})();
</script>
</body>
</html>